---
sidebar_position: 1
---

# 工作流结构
当工作流处于未开始、完成、警告、失败、停止状态时，在工作流结构页面下可以进行如下操作：

- 上传初始结构
  - 限制条件：工作流需处于未开始状态
  - 操作方法
    - 点击[结构导入组件](/next/Q-Flow/模拟/组件/qflow_component_start/)右侧的齿轮图标，在弹出的对话框中点击上传可以从本地导入晶体结构；点击从结构库导入可以从Q-Flow结构库中导入结构
  - 描述：目前支持的晶体结构文件格式为pwmat、vasp、cif
- 查看初始结构
  - 限制条件：已上传初始结构
  - 操作方法
    - 工作流处于未开始状态
      - 点击[结构导入组件](/next/Q-Flow/模拟/组件/qflow_component_start/)右侧的齿轮图标，在弹出的对话框中操作一栏中点击查看
    - 工作流处于完成、警告、失败、停止状态
      - 点击[结构导入组件](/next/Q-Flow/模拟/组件/qflow_component_start/)右侧的查看图标
- 添加组件、模板
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态
  - 操作方法
    - 鼠标放在左侧组件/模板栏目中想要添加的某个组件或模板上，按住左键拖拽组件或模板到工作流中
- 修改组件计算参数
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态；组件需处于未开始、停止或失败状态
  - 操作方法
    - 点击组件右侧的`>>`按钮，点击弹出菜单中的`参数设置`。在弹出的对话框中设置组件计算参数。
  - 描述：在参数设置对话框中点击保存将会保存已设置计算参数并关闭对话框；直接点击关闭将不会保存本次设置的计算参数。
- 修改组件备注
  - 限制条件：无
  - 操作方法
    - 点击已添加的组件右侧的`>>`按钮，点击弹出菜单中的`参数设置(查看参数)`。在弹出的对话框中点击顶部的备注图标输入信息。
- 拷贝组件
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态
  - 操作方法
    - 点击已添加的组件右侧的`>>`按钮，点击弹出菜单中的`拷贝`。
  - 描述：新的组件会继承原组件的所有参数设置；目前暂时不支持模板的拷贝、模板中计算组件的拷贝。
- 删除组件
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态；组件处于未开始、停止、失败状态
  - 操作方法
    - 点击已添加的组件右侧的`>>`按钮，点击弹出菜单中的`删除`，再点击弹出窗口中的`确定`。
  - 描述：删除组件会导致数据一并删除，请谨慎操作。
- 删除模板
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态；模板中全部组件需处于未开始状态
  - 操作方法
    - 点击已添加的模板右上角的`×`按钮，再点击弹出窗口中的`确定`
- 连接组件、模板
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态；满足组件连接规则
  - 操作方法
    - 鼠标放在组件或模板的输出节点上（红色圆圈），按住左键，再拖拽连线到其他组件或模板的输入节点上
  - 描述：连接时可以连接的输入节点（蓝色圆圈）会高亮提示；新创建的连接线可以点击连接线中的红色删除按钮删除。
- 提交工作流
  - 限制条件：工作流需处于未开始、完成、警告、失败或停止状态；没有未连接的组件输入节点
  - 操作方法
    - 点击页面右上角`提交`按钮
  - 描述：点击提交后，页面会提示“正在提交中”提示字样，此时关闭页面也不影响工作流提交
- 查看组件计算参数
  - 限制条件
    - 工作流处于完成、警告、失败或停止状态：组件需处于成功或警告状态
    - 工作流处于排队中、计算中状态：无
  - 操作方法
    - 点击组件右侧的`>>`按钮，再点击弹出菜单中的`查看参数`
  - 描述：在弹出的对话框中可以查看设置的组件计算参数。此时不能对计算参数进行修改
- 查看组件计算详情
  - 限制条件
    - 工作流处于完成、警告、失败或停止状态：组件需处于成功、警告、失败或停止状态
    - 工作流处于排队中、计算中状态：无
  - 操作方法
    - 点击组件右侧的`>>`按钮，再点击弹出菜单中的`查看详情`。
  - 描述：在弹出的对话框中可以查看[组件详细计算状态](/next/Q-Flow/模拟/工作流/qflow_component_status/)、[组件计算进度](/next/Q-Flow/模拟/工作流/qflow_component_progress/)、[组件计算结果](/next/Q-Flow/模拟/工作流/qflow_component_result/)、组件生成文件信息

- 停止工作流
  - 限制条件：工作流需处于排队中或计算中状态
  - 操作方法
    - 点击页面右上角`停止运算`按钮
  - 描述：点击后，所有计算任务均会停止；排队中的组件会切换为未开始状态；计算中的组件会切换为停止状态
