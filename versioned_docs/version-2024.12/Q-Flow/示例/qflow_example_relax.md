---
sidebar_position: 0
---

# 结构优化

完成结构优化需要进行`结构导入`→`组件`→ 从`系统组件`中拖拽`结构优化`组件到工作流区域 → 添加从`结构导入`到`结构优化`的连线。
全部组件采用默认参数即可提交计算，用户也可以打开组件参数设置配置详细参数。

<img src={require("../images/图片25.png").default} width='70%'/>


结构优化时可以设置的基础参数有 GPU 卡数、是否 k 点并行、赝势类型、泛函类型、截断能、k 点网格、原子弛豫的算法、控制弛豫的步数及收敛条件等参数。
如果需要进行一些特殊的计算，如 DFT+U、vdW、带电体系等，可以在高级参数中进行设置。

<img width='50%' src={require("../images/图片26.png").default} /><img width='50%' src={require("../images/图片27.png").default} />

设置完成后点击页面右上角**提交运算**，Q-Flow 会进行结构检查、生成组件参数、生成计算文件、上传文件到服务器、提交作业并排队等操作。经过一段时间的加载，页面会自动跳转至工作流计算结果页面。
在计算进行的过程中可以退出工作流计算结果页面，编辑其他项目或工作流，也可以退出浏览器，而不影响计算任务在服务器端执行。
此时如果返回项目管理界面，点击计算结果可以看到项目内所有已经提交运算的工作流，工作流可能处于排队、计算中、完成、失败等状态中。对于排队、计算中状态的工作流可以点击查看重新返回工作流计算结果界面。
对于已完成、失败状态的工作流除了可以点击查看重新返回工作流计算结果界面，也可以点击编辑再次进入工作流配置界面，在之前计算的基础上进行新的工作流设计和提交运算。
在工作流计算结果页面，处于正在计算状态的组件会呈现加载状态，运算中的工作流可以停止运算，也可以随时点击查看计算进度。

<img src={require("../images/图片16.png").default} width='100%' />   

在工作流计算结果页面，处于正在计算状态的组件会呈现加载状态，运算中的工作流可以停止运算，也可以随时点击查看计算进度。
计算进度栏内包含一些图表数据，用以判断结构优化的收敛情况。

<img src={require("../images/图片28.png").default} width='100%' />   

计算完成后，组件会变为已完成状态，此时可以点击结构优化组件查看结果，并导出结构到结构库中进行编辑或者后续其他运算。

<img src={require("../images/图片29.png").default} width='100%' />   

